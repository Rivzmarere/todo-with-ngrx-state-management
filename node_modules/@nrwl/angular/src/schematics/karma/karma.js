"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const schematics_1 = require("@angular-devkit/schematics");
const workspace_1 = require("@nrwl/workspace");
function default_1() {
    return (host) => {
        const packageJson = workspace_1.readJsonInTree(host, 'package.json');
        if (packageJson.devDependencies['karma']) {
            return schematics_1.noop();
        }
        return schematics_1.chain([
            schematics_1.mergeWith(schematics_1.url('./files/karma')),
            workspace_1.addDepsToPackageJson({}, {
                karma: '~4.0.0',
                'karma-chrome-launcher': '~2.2.0',
                'karma-coverage-istanbul-reporter': '~2.0.1',
                'karma-jasmine': '~1.1.2',
                'karma-jasmine-html-reporter': '^0.2.2',
                'jasmine-core': '~2.99.1',
                'jasmine-spec-reporter': '~4.2.1',
                '@types/jasmine': '~2.8.8',
            }),
        ]);
    };
}
exports.default = default_1;
//# sourceMappingURL=karma.js.map