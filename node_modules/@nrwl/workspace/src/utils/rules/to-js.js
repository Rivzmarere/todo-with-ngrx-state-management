"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toJS = void 0;
const typescript_1 = require("typescript");
const schematics_1 = require("@angular-devkit/schematics");
const core_1 = require("@angular-devkit/core");
function toJS() {
    return schematics_1.forEach(schematics_1.when((path) => path.endsWith('.ts') || path.endsWith('.tsx'), (entry) => {
        const original = entry.content.toString('utf-8');
        const result = typescript_1.transpile(original, {
            allowJs: true,
            jsx: typescript_1.JsxEmit.Preserve,
            target: typescript_1.ScriptTarget.ESNext,
        });
        return {
            content: Buffer.from(result, 'utf-8'),
            path: core_1.normalize(entry.path.replace(/\.tsx?$/, '.js')),
        };
    }));
}
exports.toJS = toJS;
//# sourceMappingURL=to-js.js.map